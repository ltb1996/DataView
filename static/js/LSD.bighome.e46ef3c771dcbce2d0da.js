(window.webpackJsonp=window.webpackJsonp||[]).push([["LSD.bighome"],{1738:function(t,e,a){},"260b":function(t,e,a){},"2b79":function(t,e,a){},"3bc6":function(t,e,a){},"46fd":function(t,e,a){},"51a1":function(t,e,a){"use strict";a("46fd")},6204:function(t,e,a){},6511:function(t,e,a){"use strict";a.r(e);function s(t,e){if(t){const a=new Date(t),s={"M+":a.getMonth()+1,"d+":a.getDate(),"H+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(const t in s)new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?s[t]:("00"+s[t]).substr((""+s[t]).length)));return e}return""}var i={components:{},data:()=>({settingShow:!1,sbtxradio:!0,ssyjradio:!0,isScaleradio:!0}),computed:{},methods:{init(){this.settingShow=!0},radiochange(t,e){this.$store.commit("setting/updateSwiper",{val:t,type:e})}},created(){this.$store.commit("setting/initSwipers"),this.sbtxradio=this.$store.state.setting.sbtxSwiper,this.ssyjradio=this.$store.state.setting.ssyjSwiper,this.isScaleradio=this.$store.state.setting.isScale},mounted(){document.body.appendChild(this.$el)},beforeDestroy(){},destroyed(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},o=a("829d"),n=Object(o.a)(i,(function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"yh-setting-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.settingShow,expression:"settingShow"}],staticClass:"setting",class:{settingShow:t.settingShow}},[e("div",{staticClass:"setting_dislog",on:{click:function(e){t.settingShow=!1}}}),e("div",{staticClass:"setting_inner"},[e("div",{staticClass:"setting_header"},[t._v(" 设置 ")]),e("div",{staticClass:"setting_body"},[e("div",{staticClass:"left_shu"},[t._v(" 全局设置")]),e("div",{staticClass:"setting_item"},[e("span",{staticClass:"setting_label"},[t._v(" 是否进行自动适配"),e("span",{staticClass:"setting_label_tip"},[t._v("(默认分辨率1920*1080)")]),t._v(": ")]),e("div",{staticClass:"setting_content"},[e("el-radio-group",{on:{change:e=>t.radiochange(e,"isScale")},model:{value:t.isScaleradio,callback:function(e){t.isScaleradio=e},expression:"isScaleradio"}},[e("el-radio",{attrs:{label:!0}},[t._v("是")]),e("el-radio",{attrs:{label:!1}},[t._v("否")])],1)],1)]),e("div",{staticClass:"left_shu"},[t._v(" 实时监测")]),e("div",{staticClass:"setting_item"},[e("span",{staticClass:"setting_label"},[t._v(" 设备提醒自动轮询: "),e("span",{staticClass:"setting_label_tip"})]),e("div",{staticClass:"setting_content"},[e("el-radio-group",{on:{change:e=>t.radiochange(e,"sbtxSwiper")},model:{value:t.sbtxradio,callback:function(e){t.sbtxradio=e},expression:"sbtxradio"}},[e("el-radio",{attrs:{label:!0}},[t._v("是")]),e("el-radio",{attrs:{label:!1}},[t._v("否")])],1)],1)]),e("div",{staticClass:"setting_item"},[e("span",{staticClass:"setting_label"},[t._v(" 实时预警轮播: ")]),e("div",{staticClass:"setting_content"},[e("el-radio-group",{on:{change:e=>t.radiochange(e,"ssyjSwiper")},model:{value:t.ssyjradio,callback:function(e){t.ssyjradio=e},expression:"ssyjradio"}},[e("el-radio",{attrs:{label:!0}},[t._v("是")]),e("el-radio",{attrs:{label:!1}},[t._v("否")])],1)],1)]),e("div",{staticClass:"flex justify-center"})])])])])}),[],!1,null,"fce79474",null).exports;var l={name:"VScaleScreen",props:{width:{type:[String,Number],default:1920},height:{type:[String,Number],default:1080},fullScreen:{type:Boolean,default:!1},autoScale:{type:[Object,Boolean],default:!0},selfAdaption:{type:Boolean,default:!0},delay:{type:Number,default:500},boxStyle:{type:Object,default:()=>({})},wrapperStyle:{type:Object,default:()=>({})}},data:()=>({currentWidth:0,currentHeight:0,originalWidth:0,originalHeight:0,onResize:null,observer:null}),watch:{selfAdaption(t){t?(this.resize(),this.addListener()):(this.clearListener(),this.clearStyle())}},computed:{screenWrapper(){return this.$refs.screenWrapper}},methods:{initSize(){return new Promise((t,e)=>{this.screenWrapper.parentNode.style.overflow="hidden",this.screenWrapper.parentNode.scrollLeft=0,this.screenWrapper.parentNode.scrollTop=0,this.$nextTick(()=>{this.width&&this.height?(this.currentWidth=this.width,this.currentHeight=this.height):(this.currentWidth=this.screenWrapper.clientWidth,this.currentHeight=this.screenWrapper.clientHeight),this.originalHeight&&this.originalWidth||(this.originalWidth=window.screen.width,this.originalHeight=window.screen.height),t()})})},updateSize(){this.currentWidth&&this.currentHeight?(this.screenWrapper.style.width=this.currentWidth+"px",this.screenWrapper.style.height=this.currentHeight+"px"):(this.screenWrapper.style.width=this.originalWidth+"px",this.screenWrapper.style.height=this.originalHeight+"px")},handleAutoScale(t){if(!this.autoScale)return;const e=this.screenWrapper,a=e.clientWidth,s=e.clientHeight,i=document.body.clientWidth,o=document.body.clientHeight;e.style.transform=`scale(${t},${t}) `;let n=Math.max((i-a*t)/2,0),l=Math.max((o-s*t)/2,0);"object"==typeof this.autoScale&&(!this.autoScale.x&&(n=0),!this.autoScale.y&&(l=0)),this.screenWrapper.style.margin=`${l}px ${n}px`},updateScale(){const t=this.screenWrapper,e=document.body.clientWidth,a=document.body.clientHeight,s=e/(this.currentWidth||this.originalWidth),i=a/(this.currentHeight||this.originalHeight);if(this.fullScreen)return t.style.transform=`scale(${s},${i})`,!1;const o=Math.min(s,i);this.handleAutoScale(o)},initMutationObserver(){const t=this.screenWrapper;(this.observer=new MutationObserver(()=>{this.onResize()})).observe(t,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0})},clearListener(){window.removeEventListener("resize",this.onResize)},addListener(){window.addEventListener("resize",this.onResize)},clearStyle(){const t=this.screenWrapper;t.parentNode.style.overflow="auto",t.style=""},async resize(){this.selfAdaption&&(await this.initSize(),this.updateSize(),this.updateScale())}},mounted(){this.onResize=function(t,e){let a=null;return function(...s){a=setTimeout(()=>{"function"==typeof t&&t.apply(null,s),clearTimeout(a)},e>0?e:100)}}(()=>{this.resize()},this.delay),this.$nextTick(()=>{this.selfAdaption&&(this.resize(),this.addListener())})},beforeDestroy(){this.clearListener()}},r=(a("d0db"),{components:{Setting:n,ScaleScreen:Object(o.a)(l,(function(){return(0,this._self._c)("div",{ref:"screenWrapper",staticClass:"screen-wrapper",style:this.wrapperStyle},[this._t("default")],2)}),[],!1,null,"da9f1cae",null).exports},data:()=>({timing:null,loading:!0,dateDay:null,dateYear:null,dateWeek:null,weekday:["周日","周一","周二","周三","周四","周五","周六"]}),filters:{numsFilter:t=>t||0},computed:{},created(){},mounted(){this.timeFn(),this.cancelLoading()},beforeDestroy(){clearInterval(this.timing)},methods:{showSetting(){this.$refs.setting.init()},timeFn(){this.timing=setInterval(()=>{this.dateDay=s(new Date,"HH: mm: ss"),this.dateYear=s(new Date,"yyyy-MM-dd"),this.dateWeek=this.weekday[(new Date).getDay()]},1e3)},cancelLoading(){let t=setTimeout(()=>{this.loading=!1,clearTimeout(t)},500)}}}),c=(a("af35"),Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("ScaleScreen",{staticClass:"scale-wrap",attrs:{width:1920,height:1080,selfAdaption:t.$store.state.setting.isScale}},[e("div",{staticClass:"bg"},[t.loading?e("dv-loading",[t._v("Loading...")]):e("div",{staticClass:"host-body"},[e("div",{staticClass:"d-flex jc-center title_wrap"},[e("div",{staticClass:"zuojuxing"}),e("div",{staticClass:"youjuxing"}),e("div",{staticClass:"guang"}),e("div",{staticClass:"d-flex jc-center"},[e("div",{staticClass:"title"},[e("span",{staticClass:"title-text"},[t._v("盛宝学院数据可视化平台")])])]),e("div",{staticClass:"timers"},[t._v(" "+t._s(t.dateYear)+" "+t._s(t.dateWeek)+" "+t._s(t.dateDay)+" "),e("i",{staticClass:"blq-icon-shezhi02",staticStyle:{"margin-left":"10px"},on:{click:t.showSetting}})])]),e("router-view")],1)],1),e("Setting",{ref:"setting"})],1)}),[],!1,null,null,null));e.default=c.exports},"721a":function(t,e,a){"use strict";a("2b79")},7228:function(t,e,a){},"842b":function(t,e,a){"use strict";a("e080")},"8c10":function(t,e,a){},a016:function(t,e,a){"use strict";a("f188")},a59a:function(t,e,a){},a8e8:function(t,e,a){"use strict";a("1738")},af35:function(t,e,a){"use strict";a("3bc6")},bb6d:function(t,e,a){"use strict";a("a59a")},cde0:function(t,e,a){"use strict";a("6204")},d0db:function(t,e,a){"use strict";a("7228")},de50:function(t,e,a){},df5e:function(t,e,a){"use strict";a.r(e);var s=a("9035"),i=a.n(s);console.log(Object({NODE_ENV:"production",VUE_APP_BASE_API:"http://localhost:8888",VUE_APP_outputDir:"dist",BASE_URL:""}));var o={ENC:!1,baseUrl:"http://localhost:8888",code:401};a("a18c");let n=o.baseUrl;i.a.CancelToken;i.a.interceptors.request.use((function(t){let e=localStorage.getItem("token");return t.headers.common["Content-Type"]="application/json;charset=utf-8",t.headers.common.token=e,t}),(function(t){return console.log(t),Promise.reject(t)})),i.a.interceptors.response.use(t=>200!==t.status?Promise.reject(t):(t.data.code,t.data),t=>{console.error(t);return Promise.reject({success:!1,msg:"未知异常，请联系管理员！"})});let l={headers:{enc:o.ENC}};const r=async(t,e)=>{try{e=e;return await i.a.get(`${n}${t}`,{params:e,headers:l.headers},l)}catch(t){return t}};const c={big1:"/bigscreen/countUserNum",big2:"/bigscreen/countDeviceNum",big3:"/bigscreen/sbtx",big4:"/bigscreen/alarmNum",big5:"/bigscreen/ssyj",big6:"/bigscreen/installationPlan",big7:"/bigscreen/ranking",big8:"/bigscreen/centermap"},d=(t,e)=>r(c[t],e);let h={fontSize:24};var u={data:()=>({options:{},userOverview:{alarmNum:0,offlineNum:0,onlineNum:0,totalNum:0},pageflag:!0,timer:null,config:{number:[100],content:"{nt}",style:{...h,fill:"#00fdfa"}},onlineconfig:{number:[0],content:"{nt}",style:{...h,fill:"#07f7a8"}},offlineconfig:{number:[0],content:"{nt}",style:{...h,fill:"#e3b337"}},laramnumconfig:{number:[0],content:"{nt}",style:{...h,fill:"#f5023d"}}}),filters:{numsFilter:t=>t||0},created(){this.getData()},mounted(){},beforeDestroy(){this.clearData()},methods:{clearData(){this.timer&&(clearInterval(this.timer),this.timer=null)},getData(){this.pageflag=!0,d("big2").then(t=>{this.timer||console.log("设备总览",t),t.success?(this.userOverview=t.data,this.onlineconfig={...this.onlineconfig,number:[t.data.onlineNum]},this.config={...this.config,number:[t.data.totalNum]},this.offlineconfig={...this.offlineconfig,number:[t.data.offlineNum]},this.laramnumconfig={...this.laramnumconfig,number:[t.data.alarmNum]},this.switper()):(this.pageflag=!1,this.$Message.warning(t.msg))})},switper(){if(this.timer)return;this.timer=setInterval(t=>{this.getData()},this.$store.state.setting.echartsAutoTime)}}},g=(a("a8e8"),a("829d")),p=Object(g.a)(u,(function(){var t=this,e=t._self._c;return t.pageflag?e("ul",{staticClass:"user_Overview flex"},[e("li",{staticClass:"user_Overview-item",staticStyle:{color:"#00fdfa"}},[e("div",{staticClass:"user_Overview_nums allnum"},[e("dv-digital-flop",{staticStyle:{width:"100%",height:"100%"},attrs:{config:t.config}})],1),e("p",[t._v("总学院数")])]),e("li",{staticClass:"user_Overview-item",staticStyle:{color:"#07f7a8"}},[e("div",{staticClass:"user_Overview_nums online"},[e("dv-digital-flop",{staticStyle:{width:"100%",height:"100%"},attrs:{config:t.onlineconfig}})],1),e("p",[t._v("已转入数")])]),e("li",{staticClass:"user_Overview-item",staticStyle:{color:"#e3b337"}},[e("div",{staticClass:"user_Overview_nums offline"},[e("dv-digital-flop",{staticStyle:{width:"100%",height:"100%"},attrs:{config:t.offlineconfig}})],1),e("p",[t._v("正在转入数")])]),e("li",{staticClass:"user_Overview-item",staticStyle:{color:"#f5023d"}},[e("div",{staticClass:"user_Overview_nums laramnum"},[e("dv-digital-flop",{staticStyle:{width:"100%",height:"100%"},attrs:{config:t.laramnumconfig}})],1),e("p",[t._v("未转入数")])])]):e("Reacquire",{attrs:{"line-height":"200px"},on:{onclick:t.getData}},[t._v(" 重新获取 ")])}),[],!1,null,"4da81a5d",null).exports,m={data:()=>({options:{},countUserNumData:{lockNum:0,onlineNum:0,offlineNum:0,totalNum:0},pageflag:!0,timer:null}),created(){this.getData()},mounted(){},beforeDestroy(){this.clearData()},methods:{clearData(){this.timer&&(clearInterval(this.timer),this.timer=null)},getData(){this.pageflag=!0,d("big1").then(t=>{this.timer||console.log("设备总览",t),t.success?(this.countUserNumData=t.data,this.$nextTick(()=>{this.init()})):(this.pageflag=!1,this.$Message({text:t.msg,type:"warning"}))})},switper(){if(this.timer)return;let t=t=>{this.getData()};this.timer=setInterval(t,this.$store.state.setting.echartsAutoTime);let e=this.$refs.charts.chart;e.on("mouseover",t=>{this.clearData()}),e.on("mouseout",e=>{this.timer=setInterval(t,this.$store.state.setting.echartsAutoTime)})},init(){let t=this.countUserNumData.totalNum,e=["#ECA444","#33A1DB","#56B557"],a={name:"用户总览",type:"pie",radius:["42%","65%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:4,borderColor:"rgba(0,0,0,0)",borderWidth:2},color:e,data:[{value:this.countUserNumData.lockNum,name:"锁定",label:{shadowColor:e[0]}},{value:this.countUserNumData.onlineNum,name:"在线",label:{shadowColor:e[2]}},{value:this.countUserNumData.offlineNum,name:"离线",label:{shadowColor:e[1]}}]};this.options={title:{text:["{value|"+t+"}","{name|总数}"].join("\n"),top:"center",left:"center",textStyle:{rich:{value:{color:"#ffffff",fontSize:24,fontWeight:"bold",lineHeight:20},name:{color:"#ffffff",lineHeight:20}}}},tooltip:{trigger:"item",backgroundColor:"rgba(0,0,0,.6)",borderColor:"rgba(147, 235, 248, .8)",textStyle:{color:"#FFF"}},legend:{show:!1,top:"5%",left:"center"},series:[{...a,tooltip:{show:!0},label:{formatter:"   {b|{b}}   \n   {c|{c}个}   {per|{d}%}  ",rich:{b:{color:"#fff",fontSize:12,lineHeight:26},c:{color:"#31ABE3",fontSize:14},per:{color:"#31ABE3",fontSize:14}}},labelLine:{length:20,length2:36,show:!0},emphasis:{show:!0}},{...a,tooltip:{show:!0},itemStyle:{},label:{backgroundColor:"inherit",height:0,width:0,lineHeight:0,borderRadius:2.5,shadowBlur:8,shadowColor:"auto",padding:[2.5,-2.5,2.5,-2.5]},labelLine:{length:20,length2:36,show:!1}}]}}}},f=Object(g.a)(m,(function(){var t=this._self._c;return this.pageflag?t("Echart",{ref:"charts",staticClass:"left_center_inner",attrs:{id:"leftCenter",options:this.options}}):t("Reacquire",{staticStyle:{"line-height":"200px"},on:{onclick:this.getData}},[this._v(" 重新获取 ")])}),[],!1,null,"9928b9da",null).exports,b=a("a6e4"),v=a.n(b),y={components:{},data:()=>({}),props:{data:{type:Array,default:()=>[]}},computed:{},methods:{init(){}},created(){},mounted(){},beforeDestroy(){}},C=(a("f85e"),Object(g.a)(y,(function(){return(0,this._self._c)("div",{staticClass:"kong"},[this._t("default")],2)}),[],!1,null,"d55b0914",null).exports),_={components:{vueSeamlessScroll:v.a,Kong:C},data(){return{list:[],pageflag:!0,components:v.a,defaultOption:{...this.$store.state.setting.defaultOption,singleHeight:240,limitMoveNum:5,step:0}}},computed:{sbtxSwiperFlag(){let t=this.$store.state.setting.sbtxSwiper;return this.components=t?v.a:C,t}},created(){},mounted(){this.getData()},methods:{addressHandle(t){let e=t.provinceName;return t.cityName&&(e+="/"+t.cityName,t.countyName&&(e+="/"+t.countyName)),e},getData(){this.pageflag=!0,d("big3",{limitNum:20}).then(t=>{if(console.log("设备提+++++++醒",t),t.success){this.countUserNumData=t.data,this.list=t.data.list;let e=setTimeout(()=>{clearTimeout(e),this.defaultOption.step=this.$store.state.setting.defaultOption.step},this.$store.state.setting.defaultOption.waitTime)}else this.pageflag=!1,this.$Message({text:t.msg,type:"warning"})})}}},w=(a("cde0"),Object(g.a)(_,(function(){var t=this,e=t._self._c;return t.pageflag?e("div",{staticClass:"left_boottom_wrap beautify-scroll-def",class:{"overflow-y-auto":!t.sbtxSwiperFlag}},[e(t.components,{tag:"component",attrs:{data:t.list,"class-option":t.defaultOption}},[e("ul",{staticClass:"left_boottom"},t._l(t.list,(function(a,s){return e("li",{key:s,staticClass:"left_boottom_item"},[e("span",{staticClass:"orderNum doudong"},[t._v(t._s(s+1))]),e("div",{staticClass:"inner_right"},[e("div",{staticClass:"dibu"}),e("div",{staticClass:"flex"},[e("div",{staticClass:"info"},[e("span",{staticClass:"labels"},[t._v("使用ID：")]),e("span",{staticClass:"contents zhuyao doudong wangguan"},[t._v(" "+t._s(a.gatewayno))])]),e("div",{staticClass:"info"},[e("span",{staticClass:"labels"},[t._v("时间：")]),e("span",{staticClass:"contents",staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(a.createTime))])])]),e("span",{staticClass:"types doudong",class:{typeRed:0==a.onlineState,typeGreen:1==a.onlineState}},[t._v(t._s(1==a.onlineState?"已转":"未转"))]),e("div",{staticClass:"info addresswrap"},[e("span",{staticClass:"labels"},[t._v("地址：")]),e("span",{staticClass:"contents ciyao",staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(t.addressHandle(a)))])])])])})),0)])],1):e("Reacquire",{staticStyle:{"line-height":"200px"},on:{onclick:t.getData}})}),[],!1,null,"33419553",null).exports),S={"中国":{adcode:"100000",level:"country",name:"中华人民共和国"},"新疆维吾尔自治区":{adcode:"650000",level:"province",name:"新疆维吾尔自治区"},"湖北省":{adcode:"420000",level:"province",name:"湖北省"},"辽宁省":{adcode:"210000",level:"province",name:"辽宁省"},"广东省":{adcode:"440000",level:"province",name:"广东省"},"内蒙古自治区":{adcode:"150000",level:"province",name:"内蒙古自治区"},"黑龙江省":{adcode:"230000",level:"province",name:"黑龙江省"},"河南省":{adcode:"410000",level:"province",name:"河南省"},"山东省":{adcode:"370000",level:"province",name:"山东省"},"陕西省":{adcode:"610000",level:"province",name:"陕西省"},"贵州省":{adcode:"520000",level:"province",name:"贵州省"},"上海市":{adcode:"310000",level:"province",name:"上海市"},"重庆市":{adcode:"500000",level:"province",name:"重庆市"},"西藏自治区":{adcode:"540000",level:"province",name:"西藏自治区"},"安徽省":{adcode:"340000",level:"province",name:"安徽省"},"福建省":{adcode:"350000",level:"province",name:"福建省"},"湖南省":{adcode:"430000",level:"province",name:"湖南省"},"海南省":{adcode:"460000",level:"province",name:"海南省"},"江苏省":{adcode:"320000",level:"province",name:"江苏省"},"青海省":{adcode:"630000",level:"province",name:"青海省"},"广西壮族自治区":{adcode:"450000",level:"province",name:"广西壮族自治区"},"宁夏回族自治区":{adcode:"640000",level:"province",name:"宁夏回族自治区"},"浙江省":{adcode:"330000",level:"province",name:"浙江省"},"河北省":{adcode:"130000",level:"province",name:"河北省"},"香港特别行政区":{adcode:"810000",level:"province",name:"香港特别行政区"},"台湾省":{adcode:"710000",level:"province",name:"台湾省"},"澳门特别行政区":{adcode:"820000",level:"province",name:"澳门特别行政区"},"甘肃省":{adcode:"620000",level:"province",name:"甘肃省"},"四川省":{adcode:"510000",level:"province",name:"四川省"},"天津市":{adcode:"120000",level:"province",name:"天津市"},"江西省":{adcode:"360000",level:"province",name:"江西省"},"云南省":{adcode:"530000",level:"province",name:"云南省"},"山西省":{adcode:"140000",level:"province",name:"山西省"},"北京市":{adcode:"110000",level:"province",name:"北京市"},"吉林省":{adcode:"220000",level:"province",name:"吉林省"}},x=a("3306"),D={data:()=>({maptitle:"国家-地区",options:{},code:"china",echartBindClick:!1,isSouthChinaSea:!1}),created(){},mounted(){this.getData("china")},methods:{getData(t){d("big8",{regionCode:t}).then(t=>{console.log("设备分布",t),t.success?(this.getGeojson(t.data.regionCode,t.data.dataList),this.mapclick()):this.$Message.warning(t.msg)})},async getGeojson(t,e){this.code=t;let a=t;this.isSouthChinaSea&&"china"==t&&(a="chinaNanhai");let s=x.a(t);s?s=s.geoJSON:(s=await(async(t,e)=>{try{return await i.a.get(t,{params:e})}catch(t){return t}})(`./map-geojson/${a}.json`).then(t=>t),x.d(t,s));let o={};s.features.map(t=>{o[t.properties.name]=t.properties.centroid||t.properties.center});let n=[];e.map(t=>{o[t.name]&&n.push({name:t.name,value:o[t.name].concat(t.value)})}),this.init(t,e,n)},init(t,e,a){let s={backgroundColor:"rgba(0,0,0,0)",tooltip:{show:!1},legend:{show:!1},visualMap:{left:20,bottom:20,pieces:[{gte:1e3,label:"1000个以上"},{gte:600,lte:999,label:"600-999个"},{gte:200,lte:599,label:"200-599个"},{gte:50,lte:199,label:"49-199个"},{gte:10,lte:49,label:"10-49个"},{lte:9,label:"1-9个"}],inRange:{color:["#c3d7df","#5cb3cc","#8abcd1","#66a9c9","#2f90b9","#1781b5"]},textStyle:{color:"#fff"}},geo:{map:t,roam:!1,selectedMode:!1,zoom:1.05,top:45,show:!1},series:[{name:"MAP",type:"map",map:t,data:e,selectedMode:!1,zoom:1.05,geoIndex:1,top:45,tooltip:{show:!0,formatter:function(t){return t.data?t.name+"："+t.data.value:t.name},backgroundColor:"rgba(0,0,0,.6)",borderColor:"rgba(147, 235, 248, .8)",textStyle:{color:"#FFF"}},label:{show:!1,color:"#000",formatter:function(t){return void 0!==t.data?t.name.slice(0,2):""},rich:{}},emphasis:{label:{show:!1},itemStyle:{areaColor:"#389BB7",borderWidth:1}},itemStyle:{borderColor:"rgba(147, 235, 248, .8)",borderWidth:1,areaColor:{type:"radial",x:.5,y:.5,r:.8,colorStops:[{offset:0,color:"rgba(147, 235, 248, 0)"},{offset:1,color:"rgba(147, 235, 248, .2)"}],globalCoord:!1},shadowColor:"rgba(128, 217, 248, .3)",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10}},{data:a,type:"effectScatter",coordinateSystem:"geo",symbolSize:function(t){return 4},legendHoverLink:!0,showEffectOn:"render",rippleEffect:{scale:6,color:"rgba(255,255,255, 1)",brushType:"fill"},tooltip:{show:!0,formatter:function(t){return t.data?t.name+"："+t.data.value[2]:t.name},backgroundColor:"rgba(0,0,0,.6)",borderColor:"rgba(147, 235, 248, .8)",textStyle:{color:"#FFF"}},label:{formatter:t=>t.name.slice(0,2),fontSize:11,offset:[0,2],position:"bottom",textBorderColor:"#fff",textShadowColor:"#000",textShadowBlur:10,textBorderWidth:0,color:"#FFF",show:!0},itemStyle:{color:"rgba(255,255,255,1)",borderColor:"rgba(2255,255,255,2)",borderWidth:4,shadowColor:"#000",shadowBlur:10}}]};this.options=s},message(t){this.$Message({text:t,type:"warning"})},mapclick(){this.echartBindClick||(this.$refs.CenterMap.chart.on("click",t=>{let e=S[t.name];e?this.getData(e.adcode):this.message("暂无下级地市!")}),this.echartBindClick=!0)}}},N=(a("842b"),Object(g.a)(D,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"centermap"},[e("div",{staticClass:"maptitle"},[e("div",{staticClass:"zuo"}),e("span",{staticClass:"titletext"},[t._v(t._s(t.maptitle))]),e("div",{staticClass:"you"})]),e("div",{staticClass:"mapwrap"},[e("dv-border-box-13",["china"!==t.code?e("div",{staticClass:"quanguo",on:{click:function(e){return t.getData("china")}}},[t._v(" 中国 ")]):t._e(),e("Echart",{ref:"CenterMap",attrs:{id:"CenterMap",options:t.options}})],1)],1)])}),[],!1,null,"c173555a",null).exports),$={data:()=>({options:{}}),props:{},mounted(){this.getData()},methods:{getData(){this.pageflag=!0,d("big6",{companyName:this.companyName}).then(t=>{console.log("安装计划",t),t.success?this.init(t.data):(this.pageflag=!1,this.$Message({text:t.msg,type:"warning"}))})},init(t){this.options={tooltip:{trigger:"axis",backgroundColor:"rgba(0,0,0,.6)",borderColor:"rgba(147, 235, 248, .8)",textStyle:{color:"#FFF"},formatter:function(t){var e=t[0].name+"<br>";return t.forEach((function(t){t.value?"安装率"==t.seriesName?e+=t.marker+" "+t.seriesName+" : "+t.value+"%</br>":e+=t.marker+" "+t.seriesName+" : "+t.value+"个</br>":e+=t.marker+" "+t.seriesName+" :  - </br>"})),e}},legend:{data:["已安装","计划安装","安装率"],textStyle:{color:"#B4B4B4"},top:"0"},grid:{left:"50px",right:"40px",bottom:"30px",top:"20px"},xAxis:{data:t.category,axisLine:{lineStyle:{color:"#B4B4B4"}},axisTick:{show:!1}},yAxis:[{splitLine:{show:!1},axisLine:{lineStyle:{color:"#B4B4B4"}},axisLabel:{formatter:"{value}"}},{splitLine:{show:!1},axisLine:{lineStyle:{color:"#B4B4B4"}},axisLabel:{formatter:"{value}% "}}],series:[{name:"已安装",type:"bar",barWidth:10,itemStyle:{borderRadius:5,color:new x.b.LinearGradient(0,0,0,1,[{offset:0,color:"#956FD4"},{offset:1,color:"#3EACE5"}])},data:t.barData},{name:"计划安装",type:"bar",barGap:"-100%",barWidth:10,itemStyle:{borderRadius:5,color:new x.b.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(156,107,211,0.8)"},{offset:.2,color:"rgba(156,107,211,0.5)"},{offset:1,color:"rgba(156,107,211,0.2)"}])},z:-12,data:t.lineData},{name:"安装率",type:"line",smooth:!0,showAllSymbol:!0,symbol:"emptyCircle",symbolSize:8,yAxisIndex:1,itemStyle:{color:"#F02FC2"},data:t.rateData}]}}}},W=(a("bb6d"),Object(g.a)($,(function(){var t=this._self._c;return t("div",{staticClass:"center_bottom"},[t("Echart",{staticClass:"echarts_bottom",attrs:{options:this.options,id:"bottomLeftChart"}})],1)}),[],!1,null,"14a94197",null).exports),k={data:()=>({option:{},pageflag:!1,timer:null}),created(){},mounted(){this.getData()},beforeDestroy(){this.clearData()},methods:{clearData(){this.timer&&(clearInterval(this.timer),this.timer=null)},getData(){this.pageflag=!0,d("big4").then(t=>{this.timer||console.log("报警次数",t),t.success?(this.countUserNumData=t.data,this.$nextTick(()=>{this.init(t.data.dateList,t.data.numList,t.data.numList2),this.switper()})):(this.pageflag=!1,this.$Message({text:t.msg,type:"warning"}))})},switper(){if(this.timer)return;let t=t=>{this.getData()};this.timer=setInterval(t,this.$store.state.setting.echartsAutoTime);let e=this.$refs.charts.chart;e.on("mouseover",t=>{this.clearData()}),e.on("mouseout",e=>{this.timer=setInterval(t,this.$store.state.setting.echartsAutoTime)})},init(t,e,a){this.option={xAxis:{type:"category",data:t,boundaryGap:!1,splitLine:{show:!0,lineStyle:{color:"rgba(31,99,163,.2)"}},axisLine:{lineStyle:{color:"rgba(31,99,163,.1)"}},axisLabel:{color:"#7EB7FD",fontWeight:"500"}},yAxis:{type:"value",splitLine:{show:!0,lineStyle:{color:"rgba(31,99,163,.2)"}},axisLine:{lineStyle:{color:"rgba(31,99,163,.1)"}},axisLabel:{color:"#7EB7FD",fontWeight:"500"}},tooltip:{trigger:"axis",backgroundColor:"rgba(0,0,0,.6)",borderColor:"rgba(147, 235, 248, .8)",textStyle:{color:"#FFF"}},grid:{show:!0,left:"10px",right:"30px",bottom:"10px",top:"28px",containLabel:!0,borderColor:"#1F63A3"},series:[{data:e,type:"line",smooth:!0,symbol:"none",name:"分析1次数",color:"rgba(252,144,16,.7)",areaStyle:{color:new x.b.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(252,144,16,.7)"},{offset:1,color:"rgba(252,144,16,.0)"}],!1)},markPoint:{data:[{name:"最大值",type:"max",valueDim:"y",symbol:"rect",symbolSize:[60,26],symbolOffset:[0,-20],itemStyle:{color:"rgba(0,0,0,0)"},label:{color:"#FC9010",backgroundColor:"rgba(252,144,16,0.1)",borderRadius:6,padding:[7,14],borderWidth:.5,borderColor:"rgba(252,144,16,.5)",formatter:"分析1：{c}"}},{name:"最大值",type:"max",valueDim:"y",symbol:"circle",symbolSize:6,itemStyle:{color:"#FC9010",shadowColor:"#FC9010",shadowBlur:8},label:{formatter:""}}]}},{data:a,type:"line",smooth:!0,symbol:"none",name:"分析2次数",color:"rgba(9,202,243,.7)",areaStyle:{color:new x.b.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(9,202,243,.7)"},{offset:1,color:"rgba(9,202,243,.0)"}],!1)},markPoint:{data:[{name:"最大值",type:"max",valueDim:"y",symbol:"rect",symbolSize:[60,26],symbolOffset:[0,-20],itemStyle:{color:"rgba(0,0,0,0)"},label:{color:"#09CAF3",backgroundColor:"rgba(9,202,243,0.1)",borderRadius:6,borderColor:"rgba(9,202,243,.5)",padding:[7,14],formatter:"报警2：{c}",borderWidth:.5}},{name:"最大值",type:"max",valueDim:"y",symbol:"circle",symbolSize:6,itemStyle:{color:"#09CAF3",shadowColor:"#09CAF3",shadowBlur:8},label:{formatter:""}}]}}]}}}},O=(a("721a"),Object(g.a)(k,(function(){var t=this._self._c;return this.pageflag?t("Echart",{ref:"charts",staticClass:"right_top_inner",attrs:{id:"rightTop",options:this.option}}):t("Reacquire",{staticStyle:{"line-height":"200px"},on:{onclick:this.getData}},[this._v(" 重新获取 ")])}),[],!1,null,"23a10f02",null).exports),L={data:()=>({gatewayno:"",config:{showValue:!0,unit:"次",data:[]}}),created(){this.getData()},computed:{},mounted(){},beforeDestroy(){this.clearData()},methods:{clearData(){this.timer&&(clearInterval(this.timer),this.timer=null)},switper(){if(this.timer)return;this.timer=setInterval(t=>{this.getData()},this.$store.state.setting.echartsAutoTime)},getData(){this.pageflag=!0,d("big7",{gatewayno:this.gatewayno}).then(t=>{this.timer||console.log("报警排名",t),t.success?(this.config={...this.config,data:t.data},this.switper()):(this.pageflag=!1,this.srcList=[],this.$Message({text:t.msg,type:"warning"}))})}}},B=(a("a016"),Object(g.a)(L,(function(){var t=this._self._c;return t("div",{staticClass:"right_bottom"},[t("dv-capsule-chart",{staticStyle:{width:"100%",height:"260px"},attrs:{config:this.config}})],1)}),[],!1,null,"f213de1a",null).exports),F={components:{vueSeamlessScroll:v.a,Kong:C},data(){return{list:[],pageflag:!0,defaultOption:{...this.$store.state.setting.defaultOption,limitMoveNum:3,singleHeight:250,step:0}}},computed:{sbtxSwiperFlag(){let t=this.$store.state.setting.ssyjSwiper;return this.components=t?v.a:C,t}},created(){this.getData()},mounted(){},methods:{getData(){this.pageflag=!0,d("big5",{limitNum:50}).then(t=>{if(console.log("实时预警+++++++++++++++++++++",t),t.success){this.list=t.data.list;let e=setTimeout(()=>{clearTimeout(e),this.defaultOption.step=this.$store.state.setting.defaultOption.step},this.$store.state.setting.defaultOption.waitTime)}else this.pageflag=!1,this.$Message.warning(t.msg)})}}},j=(a("ff76"),{components:{LeftTop:p,LeftCenter:f,LeftBottom:w,CenterMap:N,RightTop:O,RightCenter:B,RightBottom:Object(g.a)(F,(function(){var t=this,e=t._self._c;return t.pageflag?e("div",{staticClass:"right_center_wrap beautify-scroll-def",class:{"overflow-y-auto":!t.sbtxSwiperFlag}},[e(t.components,{tag:"component",attrs:{data:t.list,"class-option":t.defaultOption}},[e("ul",{staticClass:"right_center"},t._l(t.list,(function(a,s){return e("li",{key:s,staticClass:"right_center_item"},[e("span",{staticClass:"orderNum"},[t._v(t._s(s+1))]),e("div",{staticClass:"inner_right"},[e("div",{staticClass:"dibu"}),e("div",{staticClass:"flex"},[e("div",{staticClass:"info"},[e("span",{staticClass:"labels"},[t._v("设备ID：")]),e("span",{staticClass:"contents zhuyao"},[t._v(" "+t._s(a.gatewayno))])]),e("div",{staticClass:"info"},[e("span",{staticClass:"labels"},[t._v("序号：")]),e("span",{staticClass:"contents"},[t._v(" "+t._s(a.terminalno))])]),e("div",{staticClass:"info"},[e("span",{staticClass:"labels"},[t._v("阈值：")]),e("span",{staticClass:"contents warning"},[t._v(" "+t._s(t._f("montionFilter")(a.alertvalue)))])])]),e("div",{staticClass:"flex"},[e("div",{staticClass:"info"},[e("span",{staticClass:"labels"},[t._v(" 地址：")]),e("span",{staticClass:"contents ciyao",staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(a.provinceName)+"/"+t._s(a.cityName)+"/"+t._s(a.countyName))])]),e("div",{staticClass:"info time"},[e("span",{staticClass:"labels"},[t._v("时间：")]),e("span",{staticClass:"contents",staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(a.createtime))])])]),e("div",{staticClass:"flex"},[e("div",{staticClass:"info"},[e("span",{staticClass:"labels"},[t._v("分析内容：")]),e("span",{staticClass:"contents ciyao",class:{warning:a.alertdetail}},[t._v(" "+t._s(a.alertdetail||"无"))])])])])])})),0)])],1):e("Reacquire",{staticStyle:{"line-height":"200px"},on:{onclick:t.getData}})}),[],!1,null,"56c03000",null).exports,CenterBottom:W},data:()=>({}),filters:{numsFilter:t=>t||0},created(){},mounted(){},methods:{}}),z=(a("51a1"),a("f492"),Object(g.a)(j,(function(){var t=this._self._c;return t("div",{staticClass:"contents"},[t("div",{staticClass:"contetn_left"},[t("div",{staticClass:"pagetab"},[t("el-upload",{staticClass:"upload-button",attrs:{action:"","show-file-list":!1,"auto-upload":!1,disabled:!0}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-upload"}},[this._v("上传文件")])],1)],1),t("ItemWrap",{staticClass:"contetn_left-top contetn_lr-item",attrs:{title:"各学院总览"}},[t("LeftTop")],1),t("ItemWrap",{staticClass:"contetn_left-center contetn_lr-item",attrs:{title:"学院用户总览"}},[t("LeftCenter")],1),t("ItemWrap",{staticClass:"contetn_left-bottom contetn_lr-item",staticStyle:{padding:"0 10px 16px 10px"},attrs:{title:"用户提醒"}},[t("LeftBottom")],1)],1),t("div",{staticClass:"contetn_center"},[t("CenterMap",{staticClass:"contetn_center_top"}),t("ItemWrap",{staticClass:"contetn_center-bottom",attrs:{title:"安装计划"}},[t("CenterBottom")],1)],1),t("div",{staticClass:"contetn_right"},[t("ItemWrap",{staticClass:"contetn_left-bottom contetn_lr-item",attrs:{title:"分析次数"}},[t("RightTop")],1),t("ItemWrap",{staticClass:"contetn_left-bottom contetn_lr-item",staticStyle:{padding:"0 10px 16px 10px"},attrs:{title:"分析排名(TOP8)"}},[t("RightCenter")],1),t("ItemWrap",{staticClass:"contetn_left-bottom contetn_lr-item",attrs:{title:"数据统计图 "}},[t("RightBottom")],1)],1)])}),[],!1,null,"765358dc",null));e.default=z.exports},e080:function(t,e,a){},f188:function(t,e,a){},f492:function(t,e,a){"use strict";a("260b")},f85e:function(t,e,a){"use strict";a("de50")},ff76:function(t,e,a){"use strict";a("8c10")}}]);